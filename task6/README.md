# Задача 6 - Чат

## Задание

Необходимо написать клиент-серверное приложение - чат с UI-интерфейсом клиента

### Общие требования

1. Реализовать нужно и клиент и сервер
2. Классы клиента и сервера должны находиться в одном проекте, но в разных пакетах
3. Клиент и сервер не должны зависеть друг от друга, но могут зависеть от одних и тех же классов (например, от пакета
   `common`)
4. Клиент и сервер должны запускаться независимо (каждый имеет свой собственный метод `main`)
5. Клиент и сервер должны собираться в разные jar-архивы. Архивы клиента и сервера не должны содержать классов, не
   относящихся к клиенту и серверу соответственно
6. Сериализация может быть сделана любым способом, но лучше всего `JSON` с помощью `Jackson`
7. Работа с сетью должна быть реализована через чистые сокеты

### Требования к клиенту

1. Клиент устанавливает соединение с сервером по указанному адресу
2. Перед подключением к серверу пользователю предлагается ввести имя (ник). С этим ником клиент подключается к серверу
3. Клиент помечает все свои сообщения датой отправки
4. Клиент имеет графический интерфейс, состоящий из панели вывода сообщений, панели ввода сообщения, панели со списком
   участников чата, а так же кнопки отправить
5. Интерфейс должен предоставлять возможность ввода адреса сервера и имени в чате, например, при старте
6. При закрытии окна интерфейса клиента, соединение с сервером должно корректно закрываться

### Требования к серверу

1. Сервер ждет подключения клиентов на заданному порту (задается в конфигурационном файле)
2. При подключении клиента, сервер должен отправлять в чат сообщение, что клиент `<имя>` присоединился к чату
3. При получении сообщения от клиента, сервер рассылает это сообщение всем остальным подключенным клиентам
4. Каждое сообщение должно помечаться именем клиента, от которого оно пришло (это может делать как сервер при получении,
   так и клиент при отправке)
5. Сервер не дает подключиться клиенту с именем, которое уже занял другой клиент в чате
6. При отключении клиента, сервер должен отправлять в чат сообщение, что клиент `<имя>` отключился

### Усложнение

Добавить возможность автоматического переподключения клиента к серверу в случа перезапуска сервера. При этом в
пользовательском интерфейсе клиента не должен требоваться повторный ввод имени, за исключением случая, когда участник с
таким же именем успел подключиться раньше переподключения

## Сборка и запуск

### Сборка при помощи `gradle`(`gradlew`)

#### Все модули

```shell
gradlew :task6:build
```

#### Сборка отдельных модулей

```shell
gradlew :task6:common:build :task6:server:build :task6:client:build
```

### Запустить (из директории `task6`)

#### Сервер

```shell
java -jar ./server/build/libs/server.jar
```

#### Клиент

```shell
java -jar ./client/build/libs/client.jar
```
